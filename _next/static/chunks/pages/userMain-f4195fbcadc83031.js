(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{2040:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/userMain",function(){return n(3222)}])},841:function(e,t,n){"use strict";function o(e){let{src:t,width:n,quality:o}=e;return"https://res.cloudinary.com/demo/image/upload/".concat(["f_auto","c_limit","w_".concat(n),"q_".concat(o||"auto")].join(",")).concat(t)}n.r(t),n.d(t,{default:function(){return o}})},3222:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o=n(5893),i=n(7294),a=n(3290),s=n.n(a),r=n(1664),c=n.n(r),l=n(5675),d=n.n(l),m=function(){return(0,o.jsx)("main",{className:s().main,children:(0,o.jsxs)("div",{className:s().hero,children:[(0,o.jsxs)("div",{className:s()["hero-text"],children:[(0,o.jsxs)("h1",{className:s().GreetingTile,children:["Greetings,"," ",(0,o.jsx)(c(),{href:"/profile",className:s().link,children:"User!"})]}),(0,o.jsx)("p",{className:s().PageContent,children:"Welcome to the largest (probably) competition database in Vietnam."}),(0,o.jsxs)("div",{className:s()["button-container"],children:[(0,o.jsx)("button",{onClick:function(){document.location="/competitions"},className:s().button1,children:"Explore Competition"}),(0,o.jsx)("button",{onClick:function(){document.location="/samples"},className:s().button2,children:"Prepare for Competition"}),(0,o.jsx)("button",{onClick:function(){document.location="/booking"},className:s().button3,children:"Book a counter-pitching session"})]})]}),(0,o.jsx)("div",{className:s().image,children:(0,o.jsx)(d(),{className:s().imageContent,src:"/Mascot.png",alt:"GFCC Logo",width:230,height:500})})]})})},h=e=>{let{logoURL:t,organizer:n,title:a,description:s,imageUrl:r,linkUrl:l}=e,[m,h]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=document.getElementById("cardContent");e&&h(e.scrollHeight>e.clientHeight)},[s]),(0,o.jsxs)("div",{className:"card-item",children:[(0,o.jsx)(c(),{href:l,className:"card-link"}),(0,o.jsxs)("div",{className:"card-content",id:"cardContent",children:[(0,o.jsxs)("span",{children:[(0,o.jsx)(d(),{width:32,height:32,src:t,alt:""}),n]}),(0,o.jsx)("h3",{children:a}),(0,o.jsx)("p",{children:s})]}),m&&(0,o.jsx)("div",{className:"scroll-indicator",children:"Tag"}),(0,o.jsx)("div",{className:"card-image",style:{backgroundImage:"url(".concat(r,")")}})]})},u=()=>{let[e,t]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/card_api"),n=await e.json();t(n)}catch(e){console.error("Error fetching data:",e)}})()},[]);let n=[];if(e.data&&e.data.mongoData){let t=Math.min(3,e.data.mongoData.length);for(let i=0;i<t;i++){let t=e.data.mongoData[i];n.push((0,o.jsx)(h,{logoURL:"/RMIT-logo.png",organizer:t.organizer,title:t.competitionName,description:t.description,imageUrl:t.imageURL,linkUrl:t.linkToWeb}))}}let a=[];if(e.data&&e.data.mongoData)for(let t=3;t<=e.data.mongoData.length-1;t++){let n=e.data.mongoData[t];a.push((0,o.jsx)(h,{logoURL:"/RMIT-logo.png",organizer:n.organizer,title:n.competitionName,description:n.description,imageUrl:n.imageURL,linkUrl:n.linkToWeb}))}return(0,o.jsxs)("div",{className:"app",children:[(0,o.jsxs)("div",{className:"competition-section",children:[(0,o.jsx)("h1",{className:"competition-header",children:"Ongoing Competitions"}),(0,o.jsx)("div",{className:"card-container",children:n}),(0,o.jsx)("div",{className:"show-more-container",children:(0,o.jsx)(c(),{className:"NutShowMore",href:"/Competitions",children:"Show More"})})]}),(0,o.jsxs)("div",{className:"event-section",children:[(0,o.jsx)("h1",{className:"event-header",children:"Ongoing Events"}),(0,o.jsx)("div",{className:"card-container",children:a}),(0,o.jsx)("div",{className:"show-more-container",children:(0,o.jsx)(c(),{className:"NutShowMore",href:"/Competitions",children:"Show More"})})]})]})},g=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m,{}),(0,o.jsx)(u,{})]})},_=n(1163),x=n(4436),p=function(){let e=(0,_.useRouter)(),{id:t}=e.query,{isLoggedIn:n}=(0,x.a)();return(0,i.useEffect)(()=>{n||e.push("/login")},[n,e]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(g,{userId:t})})}},3290:function(e){e.exports={main:"Hero_main__NakCi",hero:"Hero_hero__Z352h","hero-text":"Hero_hero-text__ydooL",GreetingTile:"Hero_GreetingTile___ZdZ0",link:"Hero_link__y0vPV",PageContent:"Hero_PageContent__3mwoH",image:"Hero_image__vjFk_",imageContent:"Hero_imageContent__Wh4t5","button-container":"Hero_button-container__Xx4NZ",button1:"Hero_button1__12oop",button2:"Hero_button2__6EhWV",button3:"Hero_button3__CEmSd"}},1163:function(e,t,n){e.exports=n(2937)}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=2040)}),_N_E=e.O()}]);