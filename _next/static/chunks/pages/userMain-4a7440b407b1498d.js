(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{2040:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/userMain",function(){return t(3222)}])},3222:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var o=t(5893),i=t(7294),a=t(3290),s=t.n(a),r=t(1664),c=t.n(r),l=function(){return(0,o.jsx)("main",{className:s().main,children:(0,o.jsxs)("div",{className:s().hero,children:[(0,o.jsxs)("div",{className:s()["hero-text"],children:[(0,o.jsxs)("h1",{className:s().GreetingTile,children:["Greetings,"," ",(0,o.jsx)(c(),{href:"/profile",className:s().link,children:"User!"})]}),(0,o.jsx)("p",{className:s().PageContent,children:"Welcome to the largest (probably) competition database in Vietnam."}),(0,o.jsxs)("div",{className:s()["button-container"],children:[(0,o.jsx)("button",{onClick:function(){document.location="/competitions"},className:s().button1,children:"Explore Competition"}),(0,o.jsx)("button",{onClick:function(){document.location="/samples"},className:s().button2,children:"Prepare for Competition"}),(0,o.jsx)("button",{onClick:function(){document.location="/booking"},className:s().button3,children:"Book a counter-pitching session"})]})]}),(0,o.jsx)("div",{className:s().image,children:(0,o.jsx)("img",{className:s().imageContent,src:"/Mascot.png",alt:"GFCC Logo"})})]})})},d=e=>{let{logoURL:n,organizer:t,title:a,description:s,imageUrl:r,linkUrl:l}=e,[d,m]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=document.getElementById("cardContent");e&&m(e.scrollHeight>e.clientHeight)},[s]),(0,o.jsxs)("div",{className:"card-item",children:[(0,o.jsx)(c(),{href:l,className:"card-link"}),(0,o.jsxs)("div",{className:"card-content",id:"cardContent",children:[(0,o.jsxs)("span",{children:[(0,o.jsx)("img",{src:n}),t]}),(0,o.jsx)("h3",{children:a}),(0,o.jsx)("p",{children:s})]}),d&&(0,o.jsx)("div",{className:"scroll-indicator",children:"Tag"}),(0,o.jsx)("div",{className:"card-image",style:{backgroundImage:"url(".concat(r,")")}})]})},m=()=>{let[e,n]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/card_api"),t=await e.json();n(t)}catch(e){console.error("Error fetching data:",e)}})()},[]);let t=[];if(e.data&&e.data.mongoData){let n=Math.min(3,e.data.mongoData.length);for(let i=0;i<n;i++){let n=e.data.mongoData[i];t.push((0,o.jsx)(d,{logoURL:"/RMIT-logo.png",organizer:n.organizer,title:n.competitionName,description:n.description,imageUrl:n.imageURL,linkUrl:n.linkToWeb}))}}let a=[];if(e.data&&e.data.mongoData)for(let n=3;n<=e.data.mongoData.length-1;n++){let t=e.data.mongoData[n];a.push((0,o.jsx)(d,{logoURL:"/RMIT-logo.png",organizer:t.organizer,title:t.competitionName,description:t.description,imageUrl:t.imageURL,linkUrl:t.linkToWeb}))}return(0,o.jsxs)("div",{className:"app",children:[(0,o.jsxs)("div",{className:"competition-section",children:[(0,o.jsx)("h1",{className:"competition-header",children:"Ongoing Competitions"}),(0,o.jsx)("div",{className:"card-container",children:t}),(0,o.jsx)("div",{className:"show-more-container",children:(0,o.jsx)(c(),{className:"NutShowMore",href:"/Competitions",children:"Show More"})})]}),(0,o.jsxs)("div",{className:"event-section",children:[(0,o.jsx)("h1",{className:"event-header",children:"Ongoing Events"}),(0,o.jsx)("div",{className:"card-container",children:a}),(0,o.jsx)("div",{className:"show-more-container",children:(0,o.jsx)(c(),{className:"NutShowMore",href:"/Competitions",children:"Show More"})})]})]})},h=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l,{}),(0,o.jsx)(m,{})]})},u=t(1163),g=t(4436),_=function(){let e=(0,u.useRouter)(),{id:n}=e.query,{isLoggedIn:t}=(0,g.a)();return(0,i.useEffect)(()=>{t||e.push("/login")},[t,e]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(h,{userId:n})})}},3290:function(e){e.exports={main:"Hero_main__NakCi",hero:"Hero_hero__Z352h","hero-text":"Hero_hero-text__ydooL",GreetingTile:"Hero_GreetingTile___ZdZ0",link:"Hero_link__y0vPV",PageContent:"Hero_PageContent__3mwoH",image:"Hero_image__vjFk_",imageContent:"Hero_imageContent__Wh4t5","button-container":"Hero_button-container__Xx4NZ",button1:"Hero_button1__12oop",button2:"Hero_button2__6EhWV",button3:"Hero_button3__CEmSd"}},1163:function(e,n,t){e.exports=t(2937)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2040)}),_N_E=e.O()}]);