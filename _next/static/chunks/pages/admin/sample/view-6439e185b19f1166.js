(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{4e3:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/sample/view",function(){return a(5586)}])},953:function(e,t,a){"use strict";var n=a(5893),l=a(7294);t.Z=function(e){let{onChange:t,style:a,showButton:o,placeholder:s=""}=e,[c,i]=(0,l.useState)("");return(0,n.jsxs)("form",{className:"search-bar",style:a,onSubmit:e=>{e.preventDefault(),console.log("Searching for: ".concat(c))},children:[(0,n.jsx)("input",{className:"text-box",type:"search",value:c,onChange:e=>{i(e.target.value),t(e.target.value)},placeholder:s}),o&&(0,n.jsx)("button",{className:"submit-btn",type:"submit"})]})}},5586:function(e,t,a){"use strict";a.r(t);var n=a(5893),l=a(7294),o=a(1993),s=a.n(o),c=a(953),i=a(4436),r=a(1163),d=a(1664),b=a.n(d);let m=()=>{let[e,t]=(0,l.useState)([]),[a,o]=(0,l.useState)(""),{isAdmin:d}=(0,i.a)(),m=(0,r.useRouter)();(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/sample_api"),a=await e.json();t(a)}catch(e){console.error("Error fetching data:",e)}})()},[]);let h=async e=>{try{(await fetch("/api/sample_api?id=".concat(e._id),{method:"DELETE"})).ok?(console.log("Sample delete successful"),window.location.reload()):console.error("Failed to delete sample")}catch(e){console.error("Error deleting sample",e)}},u=async()=>{window.location.href="/admin/dashboard/view"},_=async()=>{window.location.href="/admin/sample/form"},p=async e=>{console.log("ID to update "+e),window.location.href="/admin/sample/form?id=".concat(e)},f=e&&e.data&&e.data.mongoData&&e.data.mongoData.filter(e=>e.sampleName.toLowerCase().includes(a.toLowerCase()));return(0,l.useEffect)(()=>{d||m.push("/login")},[d,m]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{placeholder:"Search for sample",onChange:e=>{o(e)},showButton:!0}),(0,n.jsx)("div",{className:s().divTable,children:(0,n.jsxs)("table",{className:s().mainTable,children:[(0,n.jsx)("thead",{className:s().tableHeading,children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Sample Name"}),(0,n.jsx)("th",{children:"Contents / Topics"}),(0,n.jsx)("th",{children:"Author"}),(0,n.jsx)("th",{children:"Sample link"}),(0,n.jsx)("th",{children:"Action"})]})}),(0,n.jsx)("tbody",{children:f&&f.map((e,t)=>(0,n.jsxs)("tr",{className:s().tableRow,children:[(0,n.jsx)("td",{children:e.sampleName}),(0,n.jsx)("td",{children:e.sampleContents}),(0,n.jsx)("td",{children:e.sampleAuthor}),(0,n.jsx)("td",{children:(0,n.jsx)(b(),{href:e.sampleLink,children:"Link"})}),(0,n.jsx)("td",{className:s().btnContainer,children:(0,n.jsxs)("div",{className:s().btnTableDiv,children:[(0,n.jsx)("button",{className:"".concat(s().btn," ").concat(s().btnTable),onClick:()=>p(e._id),children:"Update"}),(0,n.jsx)("button",{className:"".concat(s().btn," ").concat(s().btnTable),onClick:()=>h(e),children:"Delete"})]})})]},t))})]})}),(0,n.jsxs)("div",{className:s().btnBottomDiv,children:[(0,n.jsx)("button",{className:"".concat(s().btn," ").concat(s().btnBottom),onClick:_,children:"Create"}),(0,n.jsx)("button",{className:"".concat(s().btn," ").concat(s().btnBottom),onClick:u,children:"Return"})]})]})};m.hideLayout=!0,t.default=m},1993:function(e){e.exports={divTable:"table_divTable__nZy3u",mainTable:"table_mainTable__2ozUS",tableHeading:"table_tableHeading__G1BNY",tableRow:"table_tableRow__OefgE",imageTable:"table_imageTable__8IOsJ",btnTableDiv:"table_btnTableDiv__TZLkB",btn:"table_btn__1oU_a",btnTable:"table_btnTable__M5Q8P",btnBottomDiv:"table_btnBottomDiv__9kcEX",btnBottom:"table_btnBottom__tziMg",btnForm:"table_btnForm__3wNV1"}},1163:function(e,t,a){e.exports=a(2937)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4e3)}),_N_E=e.O()}]);