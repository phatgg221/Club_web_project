(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[330],{4322:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard/view",function(){return t(7219)}])},841:function(n,e,t){"use strict";function a(n){let{src:e,width:t,quality:a}=n;return"https://res.cloudinary.com/demo/image/upload/".concat(["f_auto","c_limit","w_".concat(t),"q_".concat(a||"auto")].join(",")).concat(e)}t.r(e),t.d(e,{default:function(){return a}})},1398:function(n,e,t){"use strict";var a=t(5893),o=t(7294),i=t(5675),s=t.n(i),r=t(856),c=t.n(r),l=t(7148),d=t.n(l),_=t(1993),m=t.n(_);t(1664),t(6785),e.Z=n=>{let{close:e,content:t,isAdminChangePass:i}=n,[r,l]=(0,o.useState)([]),[_,u]=(0,o.useState)(""),[b,h]=(0,o.useState)(""),[p,f]=(0,o.useState)(!1),[w,g]=(0,o.useState)(!1),[x,y]=(0,o.useState)(!1);(0,o.useEffect)(()=>{(async()=>{try{let n=await fetch("/api/admin_api"),e=await n.json();l(e)}catch(n){console.log("Error fecthing data: ",n)}})()},[]);let j=async n=>{n.preventDefault();let e=r.data.mongoData[0]._id;if(console.log(e+"id"),!_||!b){f(!0);return}if(_!==r.data.mongoData[0].adminPassword){g(!0);return}try{let n=await fetch("/api/admin_api?id=".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminUsername:r.data.mongoData[0].adminUsername,adminPassword:b})});if(!n.ok)throw Error("Network response was not ok");window.location.reload();let t=await n.json();t.success?y(!0):console.error(t.message)}catch(n){console.error("There has been a problem with your fetch operation:",n)}};return i?(0,a.jsx)("div",{className:"".concat(d().formContainer," ").concat(d().formContainerAdminChangePassword),children:(0,a.jsxs)("form",{className:d().form,onSubmit:j,children:[(0,a.jsxs)("div",{className:d().inputGroup,children:[(0,a.jsx)("label",{children:"Your old Password:"}),(0,a.jsx)("input",{required:!0,type:"password",value:_,onChange:n=>u(n.target.value)})]}),(0,a.jsxs)("div",{className:d().inputGroup,children:[(0,a.jsx)("label",{children:"Your new Password:"}),(0,a.jsx)("input",{required:!0,type:"password",value:b,onChange:n=>h(n.target.value)})]}),p&&(0,a.jsx)("p",{className:d().notificationMessage,style:{color:"red"},children:"Please fill in the blank."}),w&&(0,a.jsx)("p",{className:d().notificationMessage,style:{color:"red"},children:"Wrong old password."}),x&&(0,a.jsx)("p",{className:d().notificationMessage,style:{color:"green"},children:"Password successfully updated."}),(0,a.jsx)("div",{className:m().btnBottomDiv,children:(0,a.jsx)("button",{className:"".concat(m().btn," ").concat(m().btnBottom," ").concat(m().btnForm),type:"submit",children:"Change password"})})]})}):(0,a.jsxs)("div",{className:c().modal,children:[(0,a.jsx)("p",{className:c().close,onClick:e,children:"\xd7"}),(0,a.jsx)("div",{className:c().header,children:t.name}),(0,a.jsxs)("div",{className:c().content,children:[(0,a.jsx)("p",{children:t.contents}),(0,a.jsx)("p",{children:(0,a.jsx)(s(),{className:c().cotentImage,src:t.tipImage,alt:"",width:500,height:300})})]})]})}},9985:function(n,e,t){"use strict";var a=t(5893);t(7294);var o=t(1899),i=t.n(o),s=t(4436);t(1664),e.Z=function(){let{adminLogout:n}=(0,s.a)(),e=async()=>{n(),window.location.href="/"};return(0,a.jsx)("header",{className:i().headerStyle,children:(0,a.jsxs)("div",{className:i().Hstyle,children:[(0,a.jsx)("h3",{className:i().textStyle,children:"Admin Dashboard"}),(0,a.jsx)("button",{onClick:e,className:i().buttonStyle,children:(0,a.jsx)("p",{children:"Logout"})})]})})}},7219:function(n,e,t){"use strict";t.r(e);var a=t(5893),o=t(7294),i=t(9985),s=t(3898),r=t.n(s),c=t(2345),l=t(1163),d=t(4436),_=t(1398);function m(){let{isAdmin:n}=(0,d.a)();console.log("current login status"+n);let e=(0,l.useRouter)(),t=async()=>{window.location.href="/admin/Card/view"},s=async()=>{window.location.href="/admin/champions/view"},m=async()=>{window.location.href="/admin/sample/view"},u=async()=>{window.location.href="/admin/member/view"},b=async()=>{window.location.href="/admin/tips/tips"};return(0,o.useEffect)(()=>{n||(e.push("/login"),console.log("current admin "+n))},[n,e]),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Z,{}),(0,a.jsxs)("div",{className:r().container,children:[(0,a.jsx)("button",{className:"".concat(r().btn," ").concat(r().btn1),onClick:t,children:"Manage Card"}),(0,a.jsx)("button",{className:"".concat(r().btn),onClick:s,children:"Manage Champion"}),(0,a.jsx)("button",{className:"".concat(r().btn," "),onClick:u,children:"Manage Member"}),(0,a.jsx)("button",{className:"".concat(r().btn),onClick:m,children:"Manage Sample"}),(0,a.jsx)("button",{className:"".concat(r().btn),onClick:b,children:"Manage Tips"}),(0,a.jsx)(c.Z,{modal:!0,trigger:(0,a.jsx)("button",{className:"".concat(r().btn),children:"Change Admin Password"}),children:n=>(0,a.jsx)(_.Z,{close:n,isAdminChangePass:!0})})]})]})}m.hideLayout=!0,e.default=m},7148:function(n){n.exports={formContainer:"Admin_Form_formContainer__woS1p",formContainerTips:"Admin_Form_formContainerTips__EqLt9",userResetPasswordContainer:"Admin_Form_userResetPasswordContainer__8cHa0",formContainerAdminChangePassword:"Admin_Form_formContainerAdminChangePassword__2ZidI",form:"Admin_Form_form__TPPNs",formTips:"Admin_Form_formTips__LsRp0",inputGroup:"Admin_Form_inputGroup__tdFHl",inputGroupTips:"Admin_Form_inputGroupTips__zzKew",Row:"Admin_Form_Row__LVOvY",row:"Admin_Form_row__MxQDQ",organizerInput:"Admin_Form_organizerInput__0pcKt",hideLable:"Admin_Form_hideLable__CrPVN",btnTip:"Admin_Form_btnTip__7GRqP",contentInput:"Admin_Form_contentInput__L_npg",centered:"Admin_Form_centered__GuOUu",notificationMessage:"Admin_Form_notificationMessage__HpZle"}},3898:function(n){n.exports={container:"AdminDasboard_container___U5y3",bodyContainer:"AdminDasboard_bodyContainer__8lKEh",btn:"AdminDasboard_btn__cFFIg"}},1899:function(n){n.exports={body:"AdminHeader_body__yU8Dy",headerStyle:"AdminHeader_headerStyle__2hs6_",Hstyle:"AdminHeader_Hstyle__SjPis",textStyle:"AdminHeader_textStyle__knUD_",buttonStyle:"AdminHeader_buttonStyle__mkLsq"}},856:function(n){n.exports={modal:"content_modal__zzFVO",header:"content_header__bkkZB",content:"content_content__ch1N_",actions:"content_actions__S8L9P",close:"content_close__tNO7o",cotentImage:"content_cotentImage__7huai"}},1993:function(n){n.exports={divTable:"table_divTable__nZy3u",mainTable:"table_mainTable__2ozUS",tableHeading:"table_tableHeading__G1BNY",tableRow:"table_tableRow__OefgE",imageTable:"table_imageTable__8IOsJ",btnTableDiv:"table_btnTableDiv__TZLkB",btn:"table_btn__1oU_a",btnTable:"table_btnTable__M5Q8P",btnBottomDiv:"table_btnBottomDiv__9kcEX",btnBottom:"table_btnBottom__tziMg",btnForm:"table_btnForm__3wNV1"}},1163:function(n,e,t){n.exports=t(2937)}},function(n){n.O(0,[675,345,774,888,179],function(){return n(n.s=4322)}),_N_E=n.O()}]);