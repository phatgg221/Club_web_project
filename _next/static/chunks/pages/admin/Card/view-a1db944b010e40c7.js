(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[242],{8989:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/Card/view",function(){return a(2846)}])},841:function(e,t,a){"use strict";function n(e){let{src:t,width:a,quality:n}=e;return"https://res.cloudinary.com/demo/image/upload/".concat(["f_auto","c_limit","w_".concat(a),"q_".concat(n||"auto")].join(",")).concat(t)}a.r(t),a.d(t,{default:function(){return n}})},953:function(e,t,a){"use strict";var n=a(5893),o=a(7294);t.Z=function(e){let{onChange:t,style:a,showButton:c,placeholder:i=""}=e,[l,s]=(0,o.useState)("");return(0,n.jsxs)("form",{className:"search-bar",style:a,onSubmit:e=>{e.preventDefault(),console.log("Searching for: ".concat(l))},children:[(0,n.jsx)("input",{className:"text-box",type:"search",value:l,onChange:e=>{s(e.target.value),t(e.target.value)},placeholder:i}),c&&(0,n.jsx)("button",{className:"submit-btn",type:"submit"})]})}},9985:function(e,t,a){"use strict";var n=a(5893);a(7294);var o=a(1899),c=a.n(o),i=a(4436);a(1664),t.Z=function(){let{adminLogout:e}=(0,i.a)(),t=async()=>{e(),window.location.href="/"};return(0,n.jsx)("header",{className:c().headerStyle,children:(0,n.jsxs)("div",{className:c().Hstyle,children:[(0,n.jsx)("h3",{className:c().textStyle,children:"Admin Dashboard"}),(0,n.jsx)("button",{onClick:t,className:c().buttonStyle,children:(0,n.jsx)("p",{children:"Logout"})})]})})}},2846:function(e,t,a){"use strict";a.r(t);var n=a(5893),o=a(7294),c=a(1163),i=a(1993),l=a.n(i);a(9985);var s=a(953),r=a(4436),d=a(1664),b=a.n(d),h=a(5675),m=a.n(h);let _=()=>{let[e,t]=(0,o.useState)([]),[a,i]=(0,o.useState)(""),{isAdmin:d}=(0,r.a)(),h=(0,c.useRouter)();(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/card_api"),a=await e.json();t(a)}catch(e){console.error("Error fetching data:",e)}})()},[]);let _=async e=>{try{(await fetch("/api/card_api?id=".concat(e._id),{method:"DELETE"})).ok?(console.log("Card delete successful"),window.location.reload()):console.error("Failed to delete card")}catch(e){console.error("Error deleting card",e)}},u=async()=>{window.location.href="/admin/dashboard/view"},x=async()=>{window.location.href="/admin/Card/form"},f=async e=>{console.log("ID to update "+e),window.location.href="/admin/Card/form?id=".concat(e)},j=e&&e.data&&e.data.mongoData&&e.data.mongoData.filter(e=>e.competitionName.toLowerCase().includes(a.toLowerCase()));return(0,o.useEffect)(()=>{d||h.push("/login")},[d,h]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{placeholder:"Search for competition name",onChange:e=>{i(e)},showButton:!0}),(0,n.jsx)("div",{className:l().divTable,children:(0,n.jsxs)("table",{className:l().mainTable,children:[(0,n.jsx)("thead",{className:l().tableHeading,children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Organizer"}),(0,n.jsx)("th",{children:"Competition name"}),(0,n.jsx)("th",{children:"Location"}),(0,n.jsx)("th",{children:"Link to web"}),(0,n.jsx)("th",{children:"Image"}),(0,n.jsx)("th",{children:"Action"})]})}),(0,n.jsx)("tbody",{children:j&&j.map((e,t)=>(0,n.jsxs)("tr",{className:l().tableRow,children:[(0,n.jsx)("td",{children:e.organizer}),(0,n.jsx)("td",{children:e.competitionName}),(0,n.jsx)("td",{children:e.location}),(0,n.jsx)("td",{children:(0,n.jsx)(b(),{href:e.linkToWeb,children:"Link"})}),(0,n.jsx)("td",{children:(0,n.jsx)(m(),{className:l().imageTable,src:e.imageURL,width:100,height:100,alt:"Compete image"})}),(0,n.jsx)("td",{className:l().btnContainer,children:(0,n.jsxs)("div",{className:l().btnTableDiv,children:[(0,n.jsx)("button",{className:"".concat(l().btn," ").concat(l().btnTable),onClick:()=>f(e._id),children:"Update"}),(0,n.jsx)("button",{className:"".concat(l().btn," ").concat(l().btnTable),onClick:()=>_(e),children:"Delete"})]})})]},t))})]})}),(0,n.jsxs)("div",{className:l().btnBottomDiv,children:[(0,n.jsx)("button",{className:"".concat(l().btn," ").concat(l().btnBottom),onClick:x,children:"Create new card event"}),(0,n.jsx)("button",{className:"".concat(l().btn," ").concat(l().btnBottom),onClick:u,children:"Return"})]})]})};_.hideLayout=!0,t.default=_},1899:function(e){e.exports={body:"AdminHeader_body__yU8Dy",headerStyle:"AdminHeader_headerStyle__2hs6_",Hstyle:"AdminHeader_Hstyle__SjPis",textStyle:"AdminHeader_textStyle__knUD_",buttonStyle:"AdminHeader_buttonStyle__mkLsq"}},1993:function(e){e.exports={divTable:"table_divTable__nZy3u",mainTable:"table_mainTable__2ozUS",tableHeading:"table_tableHeading__G1BNY",tableRow:"table_tableRow__OefgE",imageTable:"table_imageTable__8IOsJ",btnTableDiv:"table_btnTableDiv__TZLkB",btn:"table_btn__1oU_a",btnTable:"table_btnTable__M5Q8P",btnBottomDiv:"table_btnBottomDiv__9kcEX",btnBottom:"table_btnBottom__tziMg",btnForm:"table_btnForm__3wNV1"}},1163:function(e,t,a){e.exports=a(2937)}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=8989)}),_N_E=e.O()}]);