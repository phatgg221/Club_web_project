(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{347:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/competitions",function(){return a(2049)}])},841:function(e,t,a){"use strict";function s(e){let{src:t,width:a,quality:s}=e;return"https://res.cloudinary.com/demo/image/upload/".concat(["f_auto","c_limit","w_".concat(a),"q_".concat(s||"auto")].join(",")).concat(t)}a.r(t),a.d(t,{default:function(){return s}})},953:function(e,t,a){"use strict";var s=a(5893),n=a(7294);t.Z=function(e){let{onChange:t,style:a,showButton:i,placeholder:c=""}=e,[r,o]=(0,n.useState)("");return(0,s.jsxs)("form",{className:"search-bar",style:a,onSubmit:e=>{e.preventDefault(),console.log("Searching for: ".concat(r))},children:[(0,s.jsx)("input",{className:"text-box",type:"search",value:r,onChange:e=>{o(e.target.value),t(e.target.value)},placeholder:c}),i&&(0,s.jsx)("button",{className:"submit-btn",type:"submit"})]})}},2049:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var s=a(5893),n=a(953),i=a(7294),c=function(e){let{categories:t,name:a,onChange:n}=e,[c,r]=(0,i.useState)(Array(t.length).fill(!1)),o=(e,a)=>{let s=[...c];s[a]=!s[a],e.target.checked?n(t[a]):n(""),r(s)};return(0,s.jsxs)("form",{className:"filter-box",children:[(0,s.jsx)("span",{className:"filter-box-title",children:a}),(0,s.jsx)("div",{className:"btn-div",children:t.map((e,t)=>(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",className:"filter-box-checkbox",checked:c[t],onChange:e=>o(e,t)}),e]},e))})]})},r=a(5675),o=a.n(r);function l(){let[e,t]=(0,i.useState)("false"),[a,r]=(0,i.useState)(!1),[l,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)([]),[m,f]=(0,i.useState)(""),[x,p]=(0,i.useState)(""),g=()=>{r(window.matchMedia("(min-width: 490px)").matches),d(window.matchMedia("(max-width: 490px)").matches)},j=[];if(u.data&&u.data.mongoData)for(let e=0;e<=u.data.mongoData.length-1;e++){let t=u.data.mongoData[e].organizer;j.includes(t)||j.push(t)}console.log(j.length+" categories found."),(0,i.useEffect)(()=>(g(),window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g)}),[]);let v=e=>{p(e)};(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/card_api"),t=await e.json();h(t)}catch(e){console.log("Error fetching data: ",e)}})()},[]);let w=()=>{var e,t,a;return(null!==(a=null===(t=u.data)||void 0===t?void 0:null===(e=t.mongoData)||void 0===e?void 0:e.filter(e=>{let t=!m||e.competitionName.toLowerCase().includes(m.toLowerCase()),a=!x||e.organizer.toLowerCase().includes(x.toLowerCase());return t&&a}))&&void 0!==a?a:[]).map((e,t)=>(0,s.jsxs)("div",{className:"sample-content",children:[e.competitionName," - ",e.organizer]},t))};return(0,s.jsxs)("div",{className:"main-search",children:[(0,s.jsx)("h1",{children:"On-going Competitions"}),(0,s.jsxs)("div",{className:"search-container",children:[(0,s.jsxs)("div",{className:"search-bar-sect",children:[(0,s.jsx)(n.Z,{showButton:!0,placeholder:"Search for Competitions",onChange:e=>{f(e)}}),(0,s.jsx)(o(),{className:"filter-icon",src:"/dropdown.png",width:"30",height:"30",alt:"picture",onClick:()=>t("true"===e?"false":"true")})]}),(0,s.jsxs)("div",{datavisible:e,className:"filter-sect",children:[(0,s.jsxs)("div",{className:"filter-sect-title",children:[(0,s.jsx)("h2",{children:"Filters"}),(0,s.jsx)("span",{children:"clear all filters"})]}),(0,s.jsxs)("div",{className:"filter-sect-container",children:[(0,s.jsx)("div",{className:"filter-sect-boxes",children:(0,s.jsx)(c,{categories:j,name:"By organizer",onChange:v})}),(0,s.jsxs)("div",{className:"filter-sect-search",children:[(0,s.jsx)(n.Z,{style:{width:"100%"},placeholder:"Filter by Organizer",onChange:v}),a&&(0,s.jsx)("div",{className:"competition-list",children:w()})]})]})]}),l&&(0,s.jsx)("div",{className:"competition-list",children:w()})]})]})}var d=a(1163),u=a(4436),h=function(){let e=(0,d.useRouter)(),{isLoggedIn:t}=(0,u.a)();return(0,i.useEffect)(()=>{t||e.push("/login")},[t,e]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l,{})})}},1163:function(e,t,a){e.exports=a(2937)}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=347)}),_N_E=e.O()}]);